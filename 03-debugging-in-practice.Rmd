---
title: "Debugging R"
output:
  html_document:
    df_print: paged
---

# Debugging R code {#practice}

## Tracing errors

Let's consider the previously showed function example with a missing variable:

```{r, collapse=TRUE, error=TRUE}
# Ensure that z is missing
if (exists("z")) {
  rm(z)
}
g <- function(x) {
  return(x + z)
}

f <- function(x,y = g(x)) {
  if (x>0) {
    return(x)
  } else {
    return(g(x))
  }
}
f(-1)
```
This example is available [here](https://raw.githubusercontent.com/AaltoSciComp/r-debugging/main/examples/missing-variables.R).

Opening the file with Rstudio and sourcing the file will return the following kind of an error:

![](https://raw.githubusercontent.com/AaltoSciComp/r-debugging/main/images/missing-variable.png)

Now clicking the `Show traceback`-button will expand the traceback:

![](https://raw.githubusercontent.com/AaltoSciComp/r-debugging/main/images/missing-variables-traceback.png)

This view will quickly show that the error comes from the `g(x)`-function call in line #13.

## Using interactive debugger



