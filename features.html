<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 R features relevant for debugging | Debugging R</title>
  <meta name="description" content="Materials for Aalto Scientific Computing’s How to debug-course, R part" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="3 R features relevant for debugging | Debugging R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Materials for Aalto Scientific Computing’s How to debug-course, R part" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 R features relevant for debugging | Debugging R" />
  
  <meta name="twitter:description" content="Materials for Aalto Scientific Computing’s How to debug-course, R part" />
  

<meta name="author" content="Simo Tuomisto" />


<meta name="date" content="2022-04-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="whatis.html"/>
<link rel="next" href="practice.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R debugging</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About this course</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#requirements"><i class="fa fa-check"></i><b>1.1</b> Requirements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="whatis.html"><a href="whatis.html"><i class="fa fa-check"></i><b>2</b> What is debugging</a>
<ul>
<li class="chapter" data-level="2.1" data-path="whatis.html"><a href="whatis.html#the-four-steps-of-debugging"><i class="fa fa-check"></i><b>2.1</b> The four steps of debugging</a></li>
<li class="chapter" data-level="2.2" data-path="whatis.html"><a href="whatis.html#debugging-is-the-art-of-identifying-inconsistency-between-the-expected-and-actual-operation"><i class="fa fa-check"></i><b>2.2</b> Debugging is the art of identifying inconsistency between the expected and actual operation</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="features.html"><a href="features.html"><i class="fa fa-check"></i><b>3</b> R features relevant for debugging</a>
<ul>
<li class="chapter" data-level="3.1" data-path="features.html"><a href="features.html#interpreter"><i class="fa fa-check"></i><b>3.1</b> Interpreter</a></li>
<li class="chapter" data-level="3.2" data-path="features.html"><a href="features.html#functions"><i class="fa fa-check"></i><b>3.2</b> Functions</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="features.html"><a href="features.html#r-is-a-functional-language"><i class="fa fa-check"></i><b>3.2.1</b> R is a functional language</a></li>
<li class="chapter" data-level="3.2.2" data-path="features.html"><a href="features.html#lazy-evaluation"><i class="fa fa-check"></i><b>3.2.2</b> Lazy evaluation</a></li>
<li class="chapter" data-level="3.2.3" data-path="features.html"><a href="features.html#r-functions-are-evaluated-in-an-environment"><i class="fa fa-check"></i><b>3.2.3</b> R functions are evaluated in an environment</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="features.html"><a href="features.html#objects"><i class="fa fa-check"></i><b>3.3</b> Objects</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="features.html"><a href="features.html#all-objects-in-r-have-a-base-type"><i class="fa fa-check"></i><b>3.3.1</b> All objects in R have a base type</a></li>
<li class="chapter" data-level="3.3.2" data-path="features.html"><a href="features.html#base-types-are-extended-using-object-oriented-oo-programming"><i class="fa fa-check"></i><b>3.3.2</b> Base types are extended using object-oriented (OO) programming</a></li>
<li class="chapter" data-level="3.3.3" data-path="features.html"><a href="features.html#method-dispatch"><i class="fa fa-check"></i><b>3.3.3</b> Method dispatch</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="features.html"><a href="features.html#libraries"><i class="fa fa-check"></i><b>3.4</b> Libraries</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="features.html"><a href="features.html#libraries-are-usually-compiled"><i class="fa fa-check"></i><b>3.4.1</b> Libraries are usually compiled</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="practice.html"><a href="practice.html"><i class="fa fa-check"></i><b>4</b> Debugging R code</a>
<ul>
<li class="chapter" data-level="4.1" data-path="practice.html"><a href="practice.html#tracing-errors"><i class="fa fa-check"></i><b>4.1</b> Tracing errors</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="practice.html"><a href="practice.html#traceback"><i class="fa fa-check"></i><b>4.1.1</b> Traceback</a></li>
<li class="chapter" data-level="4.1.2" data-path="practice.html"><a href="practice.html#traceback-outside-of-rstudio-editor"><i class="fa fa-check"></i><b>4.1.2</b> Traceback outside of RStudio editor</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="practice.html"><a href="practice.html#interactive-debugger"><i class="fa fa-check"></i><b>4.2</b> Interactive debugger</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="practice.html"><a href="practice.html#launching-debugger-with-rstudios-rerun-with-debug"><i class="fa fa-check"></i><b>4.2.1</b> Launching debugger with RStudio’s “Rerun with Debug”</a></li>
<li class="chapter" data-level="4.2.2" data-path="practice.html"><a href="practice.html#debugger-commands"><i class="fa fa-check"></i><b>4.2.2</b> Debugger commands</a></li>
<li class="chapter" data-level="4.2.3" data-path="practice.html"><a href="practice.html#debug-and-debugonce"><i class="fa fa-check"></i><b>4.2.3</b> <code>debug</code> and <code>debugonce</code></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="practice.html"><a href="practice.html#launching-browser-in-code"><i class="fa fa-check"></i><b>4.3</b> Launching browser in code</a></li>
<li class="chapter" data-level="4.4" data-path="practice.html"><a href="practice.html#setting-breakpoint-in-editor"><i class="fa fa-check"></i><b>4.4</b> Setting breakpoint in editor</a></li>
<li class="chapter" data-level="4.5" data-path="practice.html"><a href="practice.html#launching-debugger-with-recover"><i class="fa fa-check"></i><b>4.5</b> Launching debugger with <code>recover()</code></a></li>
<li class="chapter" data-level="4.6" data-path="practice.html"><a href="practice.html#more-tools"><i class="fa fa-check"></i><b>4.6</b> More tools</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Created with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Debugging R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="features" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> R features relevant for debugging<a href="features.html#features" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="interpreter" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Interpreter<a href="features.html#interpreter" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R is an interpreted language, which means that code is interpreted by the R
interpreter during runtime. This has the effect that syntax errors occur only
when the code is run. Thus using an IDE like Rstudio makes coding easier as it
notifies the user on such errors beforehand.</p>
<p>When R exists it also can save the current environment (aka. workspace) into a
<code>.RData</code>-file. One should be careful to make certain that existing workspace does
not interfere with the code.</p>
<p>For non-interactive usage one usually uses <code>Rscript</code> or <code>R CMD BATCH</code>. <code>Rscript</code>
is usually better. However, when interpreter is launched using <code>Rscript</code>, the list
of default packages is minimal:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="features.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">--help</span></span></code></pre></div>
<pre><code>## Usage: /path/to/Rscript [--options] [-e expr [-e expr2 ...] | file] [args]
## 
## --options accepted are
##   --help              Print usage and exit
##   --version           Print version and exit
##   --verbose           Print information on progress
##   --default-packages=list
##                       Where &#39;list&#39; is a comma-separated set
##                         of package names, or &#39;NULL&#39;
## or options to R, in addition to --slave --no-restore, such as
##   --save              Do save workspace at the end of the session
##   --no-environ        Don&#39;t read the site and user environment files
##   --no-site-file      Don&#39;t read the site-wide Rprofile
##   --no-init-file      Don&#39;t read the user R profile
##   --restore           Do restore previously saved objects at startup
##   --vanilla           Combine --no-save, --no-restore, --no-site-file
##                         --no-init-file and --no-environ
## 
## &#39;file&#39; may contain spaces but not shell metacharacters
## Expressions (one or more &#39;-e &lt;expr&gt;&#39;) may be used *instead* of &#39;file&#39;
## See also  ?Rscript  from within R</code></pre>
</div>
<div id="functions" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Functions<a href="features.html#functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="r-is-a-functional-language" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> R is a functional language<a href="features.html#r-is-a-functional-language" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R is at its core a functional language. This means that coding is often
done in terms of functions that operate on objects and which return a new
object. These function calls are then often chained together
and vectorized with <code>apply</code>-family of functions.</p>
<p>For more info, see
<a href="https://adv-r.hadley.nz/fp.html">this chapter of Advanced R</a>.</p>
</div>
<div id="lazy-evaluation" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Lazy evaluation<a href="features.html#lazy-evaluation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R uses lazy evaluation when functions are called.
This means that functions are evaluated only when the output is actually used.</p>
<p>In the following example the value of <code>g(x)</code> is not evaluated for positive values and
thus the undefined variable is not encountered until <code>f(x)</code> is called with a negative
value:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="features.html#cb4-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb4-2"><a href="features.html#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(x <span class="sc">+</span> z)</span>
<span id="cb4-3"><a href="features.html#cb4-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-4"><a href="features.html#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="features.html#cb4-5" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(x,<span class="at">y =</span> <span class="fu">g</span>(x)) {</span>
<span id="cb4-6"><a href="features.html#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (x<span class="sc">&gt;</span><span class="dv">0</span>) {</span>
<span id="cb4-7"><a href="features.html#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(x)</span>
<span id="cb4-8"><a href="features.html#cb4-8" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb4-9"><a href="features.html#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(y)</span>
<span id="cb4-10"><a href="features.html#cb4-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-11"><a href="features.html#cb4-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-12"><a href="features.html#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="dv">1</span>)</span>
<span id="cb4-13"><a href="features.html#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1</span></span>
<span id="cb4-14"><a href="features.html#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb4-15"><a href="features.html#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="do">## Error in g(x): object &#39;z&#39; not found</span></span></code></pre></div>
<p>Lazy evaluation can make it easy to miss bugs in alternative execution paths.</p>
<p>See this <a href="https://www.r-bloggers.com/2018/07/about-lazy-evaluation/">r-bloggers’ post</a>
for more information on lazy evaluation.</p>
</div>
<div id="r-functions-are-evaluated-in-an-environment" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> R functions are evaluated in an environment<a href="features.html#r-functions-are-evaluated-in-an-environment" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Each R function has an environment that houses known names to values
(e.g. function names, variables etc.).</p>
<p>The global environment is the top level environment that contains everything
done by the user. Function calls etc. get their own environment that inherit
their parent’s environment.</p>
<p>When running R code interactively the global environment can often become
filled with various variables and definitions. Thus it is a good idea to clean
up the environment every now and then and verify that your code works from a clean
slate.</p>
<p>Thus one can easily run into situations such as this:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="features.html#cb5-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">f</span>(<span class="sc">-</span><span class="dv">2</span>)</span>
<span id="cb5-2"><a href="features.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Error in g(x): object &#39;z&#39; not found</span></span>
<span id="cb5-3"><a href="features.html#cb5-3" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb5-4"><a href="features.html#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">f</span>(<span class="sc">-</span><span class="dv">2</span>)</span>
<span id="cb5-5"><a href="features.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0</span></span></code></pre></div>
<p>Objects can also write to their parents’ environment using the <code>&lt;&lt;-</code>-operator:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="features.html#cb6-1" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb6-2"><a href="features.html#cb6-2" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;&lt;-</span> x</span>
<span id="cb6-3"><a href="features.html#cb6-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-4"><a href="features.html#cb6-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb6-5"><a href="features.html#cb6-5" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb6-6"><a href="features.html#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1</span></span>
<span id="cb6-7"><a href="features.html#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">h</span>(<span class="dv">2</span>)</span>
<span id="cb6-8"><a href="features.html#cb6-8" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb6-9"><a href="features.html#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2</span></span></code></pre></div>
<p>This can obviously cause problems and should be avoided in most cases.</p>
<p>For more info, see
<a href="https://adv-r.hadley.nz/environments.html">this chapter of Advanced R</a>.</p>
</div>
</div>
<div id="objects" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Objects<a href="features.html#objects" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="all-objects-in-r-have-a-base-type" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> All objects in R have a base type<a href="features.html#all-objects-in-r-have-a-base-type" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are 25 base types in R such as <code>integer</code>, <code>double</code>, <code>list</code> and
<code>closure</code> (function). One can check the type using <code>typeof(x)</code>-function.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="features.html#cb7-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb7-2"><a href="features.html#cb7-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb7-3"><a href="features.html#cb7-3" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(b)</span>
<span id="cb7-4"><a href="features.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(a)</span>
<span id="cb7-5"><a href="features.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;integer&quot;</span></span>
<span id="cb7-6"><a href="features.html#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(b)</span>
<span id="cb7-7"><a href="features.html#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;list&quot;</span></span>
<span id="cb7-8"><a href="features.html#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(c)</span>
<span id="cb7-9"><a href="features.html#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;list&quot;</span></span>
<span id="cb7-10"><a href="features.html#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(f)</span>
<span id="cb7-11"><a href="features.html#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;closure&quot;</span></span></code></pre></div>
<p>R is strongly, but dynamically typed. This means that objects have to keep their type, but objects can be cast to new types automatically. As an example, consider the following function that does a simple division:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="features.html#cb8-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="cf">function</span>(x,y) {</span>
<span id="cb8-2"><a href="features.html#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">is.integer</span>(x))</span>
<span id="cb8-3"><a href="features.html#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">is.integer</span>(y))</span>
<span id="cb8-4"><a href="features.html#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">is.integer</span>(x<span class="sc">/</span>y))</span>
<span id="cb8-5"><a href="features.html#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(x<span class="sc">/</span>y)</span>
<span id="cb8-6"><a href="features.html#cb8-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-7"><a href="features.html#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="fu">d</span>(<span class="dv">10</span>,<span class="dv">3</span>)</span>
<span id="cb8-8"><a href="features.html#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb8-9"><a href="features.html#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb8-10"><a href="features.html#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb8-11"><a href="features.html#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3.333333</span></span>
<span id="cb8-12"><a href="features.html#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="fu">d</span>(10L,3L)</span>
<span id="cb8-13"><a href="features.html#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb8-14"><a href="features.html#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb8-15"><a href="features.html#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb8-16"><a href="features.html#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3.333333</span></span></code></pre></div>
<p>For more info, see
<a href="https://adv-r.hadley.nz/base-types.html">this chapter of Advanced R</a>.</p>
</div>
<div id="base-types-are-extended-using-object-oriented-oo-programming" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Base types are extended using object-oriented (OO) programming<a href="features.html#base-types-are-extended-using-object-oriented-oo-programming" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Examples in this section utilize the <a href="https://cran.r-project.org/web/packages/sloop/index.html">sloop</a>-package<span class="citation"><a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></span>
for finding more information on objects. You can install it with:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="features.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;sloop&quot;</span>)</span></code></pre></div>
<p>In R nomenclature, everything is an object. But not everything is an OO-style object.
OO-objects have a <code>class</code>-attribute. One can also use <code>is.object()</code>-function to check
whether the object is an OO object and <code>sloop::s3_class()</code> to get the class in a reliable way:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="features.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(a, <span class="st">&quot;class&quot;</span>)</span>
<span id="cb10-2"><a href="features.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="do">## NULL</span></span>
<span id="cb10-3"><a href="features.html#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(b, <span class="st">&quot;class&quot;</span>)</span>
<span id="cb10-4"><a href="features.html#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="do">## NULL</span></span>
<span id="cb10-5"><a href="features.html#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(c, <span class="st">&quot;class&quot;</span>)</span>
<span id="cb10-6"><a href="features.html#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;data.frame&quot;</span></span>
<span id="cb10-7"><a href="features.html#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="fu">is.object</span>(a)</span>
<span id="cb10-8"><a href="features.html#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb10-9"><a href="features.html#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="fu">is.object</span>(b)</span>
<span id="cb10-10"><a href="features.html#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb10-11"><a href="features.html#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="fu">is.object</span>(c)</span>
<span id="cb10-12"><a href="features.html#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb10-13"><a href="features.html#cb10-13" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">s3_class</span>(a)</span>
<span id="cb10-14"><a href="features.html#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;integer&quot; &quot;numeric&quot;</span></span>
<span id="cb10-15"><a href="features.html#cb10-15" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">s3_class</span>(b)</span>
<span id="cb10-16"><a href="features.html#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;list&quot;</span></span>
<span id="cb10-17"><a href="features.html#cb10-17" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">s3_class</span>(c)</span>
<span id="cb10-18"><a href="features.html#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;data.frame&quot;</span></span></code></pre></div>
<p>One can strip the object back to its base types with <code>unclass()</code>-function:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="features.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(c)</span>
<span id="cb11-2"><a href="features.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="do">## $a</span></span>
<span id="cb11-3"><a href="features.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span id="cb11-4"><a href="features.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb11-5"><a href="features.html#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="do">## attr(,&quot;row.names&quot;)</span></span>
<span id="cb11-6"><a href="features.html#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>There are multiple OO paradigms in R:
- <a href="https://adv-r.hadley.nz/s3.html">S3</a>: Oldest and simplest system. Most of R OO-objects are S3 objects.
- <a href="https://adv-r.hadley.nz/s4.html">S4</a>: More advanced version of S3. Heavily used by the <a href="https://www.bioconductor.org/">Bioconductor</a>-project.
- <a href="https://adv-r.hadley.nz/r6.html">R6</a>: More like other OO languages. Improved version on R’s feature called <a href="https://www.rdocumentation.org/packages/methods/versions/3.6.2/topics/ReferenceClasses">reference classes</a>. See <a href="https://r6.r-lib.org/">R6 manual for more information</a><span class="citation"><a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a></span>.</p>
</div>
<div id="method-dispatch" class="section level3 hasAnchor" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Method dispatch<a href="features.html#method-dispatch" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Most R functions are S3 <strong>generic</strong> functions that choose between available <strong>methods</strong> for a class. One can check whether a function is a generic function or a method with <code>sloop::ftype()</code>.</p>
<p>For example, <code>paste()</code> is an internal method that works with types, but <code>print()</code> is an S3 generic:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="features.html#cb12-1" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">ftype</span>(paste)</span>
<span id="cb12-2"><a href="features.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;internal&quot;</span></span>
<span id="cb12-3"><a href="features.html#cb12-3" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">ftype</span>(print)</span>
<span id="cb12-4"><a href="features.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;S3&quot;      &quot;generic&quot;</span></span></code></pre></div>
<p>To see which function is used for a given object, one can use <code>sloop::s3_dispatch()</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="features.html#cb13-1" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">s3_dispatch</span>(<span class="fu">print</span>(c))</span>
<span id="cb13-2"><a href="features.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="do">## =&gt; print.data.frame</span></span>
<span id="cb13-3"><a href="features.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  * print.default</span></span></code></pre></div>
<p>Now one can check the difference between these methods:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="features.html#cb14-1" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">ftype</span>(print.data.frame)</span>
<span id="cb14-2"><a href="features.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;S3&quot;     &quot;method&quot;</span></span>
<span id="cb14-3"><a href="features.html#cb14-3" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">ftype</span>(print.default)</span>
<span id="cb14-4"><a href="features.html#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;internal&quot;</span></span>
<span id="cb14-5"><a href="features.html#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print.data.frame</span>(c)</span>
<span id="cb14-6"><a href="features.html#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="do">##     a</span></span>
<span id="cb14-7"><a href="features.html#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 1   1</span></span>
<span id="cb14-8"><a href="features.html#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 2   2</span></span>
<span id="cb14-9"><a href="features.html#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 3   3</span></span>
<span id="cb14-10"><a href="features.html#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 4   4</span></span>
<span id="cb14-11"><a href="features.html#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 5   5</span></span>
<span id="cb14-12"><a href="features.html#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 6   6</span></span>
<span id="cb14-13"><a href="features.html#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 7   7</span></span>
<span id="cb14-14"><a href="features.html#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 8   8</span></span>
<span id="cb14-15"><a href="features.html#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 9   9</span></span>
<span id="cb14-16"><a href="features.html#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 10</span></span>
<span id="cb14-17"><a href="features.html#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="fu">print.default</span>(c)</span>
<span id="cb14-18"><a href="features.html#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="do">## $a</span></span>
<span id="cb14-19"><a href="features.html#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span id="cb14-20"><a href="features.html#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb14-21"><a href="features.html#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="do">## attr(,&quot;class&quot;)</span></span>
<span id="cb14-22"><a href="features.html#cb14-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;data.frame&quot;</span></span></code></pre></div>
<p>Knowing about method dispatch is especially important when dealing with numerical data. Numeric can mean that something is a double <strong>or</strong> that something behaves like a number (integer and double). Typically everything in R is stored as doubles.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="features.html#cb15-1" aria-hidden="true" tabindex="-1"></a>x_i <span class="ot">&lt;-</span> 1L</span>
<span id="cb15-2"><a href="features.html#cb15-2" aria-hidden="true" tabindex="-1"></a>x_n <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb15-3"><a href="features.html#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.integer</span>(x_i)</span>
<span id="cb15-4"><a href="features.html#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb15-5"><a href="features.html#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(x_i)</span>
<span id="cb15-6"><a href="features.html#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span>
<span id="cb15-7"><a href="features.html#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="fu">is.integer</span>(x_n)</span>
<span id="cb15-8"><a href="features.html#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb15-9"><a href="features.html#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(x_n)</span>
<span id="cb15-10"><a href="features.html#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span></code></pre></div>
<p>Another problem that can happen is that one can easily remove the class functionality from an S3 object. Let’s consider a simple linear model. After fitting a linear model, one might try to store the coefficients into a variable:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="features.html#cb16-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-2"><a href="features.html#cb16-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb16-3"><a href="features.html#cb16-3" aria-hidden="true" tabindex="-1"></a>err <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="fl">0.5</span>)</span>
<span id="cb16-4"><a href="features.html#cb16-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">10</span> <span class="sc">*</span> x <span class="sc">-</span> <span class="dv">10</span> <span class="sc">+</span> err</span>
<span id="cb16-5"><a href="features.html#cb16-5" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)</span>
<span id="cb16-6"><a href="features.html#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="features.html#cb16-7" aria-hidden="true" tabindex="-1"></a>my_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data=</span>d)</span>
<span id="cb16-8"><a href="features.html#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="features.html#cb16-9" aria-hidden="true" tabindex="-1"></a>my_coefs <span class="ot">&lt;-</span> my_model<span class="sc">$</span>coefficients</span>
<span id="cb16-10"><a href="features.html#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="features.html#cb16-11" aria-hidden="true" tabindex="-1"></a>my_coefs</span>
<span id="cb16-12"><a href="features.html#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="do">## (Intercept)           x </span></span>
<span id="cb16-13"><a href="features.html#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="do">##   -10.14736    10.04802</span></span></code></pre></div>
<p>After this, one might do a predictive fit:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="features.html#cb17-1" aria-hidden="true" tabindex="-1"></a>y_pred <span class="ot">&lt;-</span> my_coefs[<span class="dv">2</span>] <span class="sc">*</span> x <span class="sc">+</span> my_coefs[<span class="dv">1</span>]</span>
<span id="cb17-2"><a href="features.html#cb17-2" aria-hidden="true" tabindex="-1"></a>y_pred</span>
<span id="cb17-3"><a href="features.html#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] -0.09934399  9.94867140 19.99668679 30.04470217 40.09271756 50.14073295</span></span>
<span id="cb17-4"><a href="features.html#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  [7] 60.18874833 70.23676372 80.28477911 90.33279450</span></span></code></pre></div>
<p>However, coefficients do not contain all of the information that the model has. Instead of ripping the coefficients out from the object, one should utilize the S3 generic function <code>predict</code> for models that support it. This will allow the model to stay as an S3 object:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="features.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(my_model)</span>
<span id="cb18-2"><a href="features.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="do">## $names</span></span>
<span id="cb18-3"><a href="features.html#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] &quot;coefficients&quot;  &quot;residuals&quot;     &quot;effects&quot;       &quot;rank&quot;         </span></span>
<span id="cb18-4"><a href="features.html#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] &quot;fitted.values&quot; &quot;assign&quot;        &quot;qr&quot;            &quot;df.residual&quot;  </span></span>
<span id="cb18-5"><a href="features.html#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] &quot;xlevels&quot;       &quot;call&quot;          &quot;terms&quot;         &quot;model&quot;        </span></span>
<span id="cb18-6"><a href="features.html#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb18-7"><a href="features.html#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="do">## $class</span></span>
<span id="cb18-8"><a href="features.html#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;lm&quot;</span></span>
<span id="cb18-9"><a href="features.html#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="features.html#cb18-10" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">ftype</span>(predict)</span>
<span id="cb18-11"><a href="features.html#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;S3&quot;      &quot;generic&quot;</span></span>
<span id="cb18-12"><a href="features.html#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(my_model)</span>
<span id="cb18-13"><a href="features.html#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="do">##           1           2           3           4           5           6 </span></span>
<span id="cb18-14"><a href="features.html#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="do">## -0.09934399  9.94867140 19.99668679 30.04470217 40.09271756 50.14073295 </span></span>
<span id="cb18-15"><a href="features.html#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="do">##           7           8           9          10 </span></span>
<span id="cb18-16"><a href="features.html#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 60.18874833 70.23676372 80.28477911 90.33279450</span></span></code></pre></div>
<p>Utilizing these generic functions gives R great power, as one can use similar coding structures for various different models. For example, <code>predict</code> can operate on multiple different models with corresponding methods:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="features.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">methods</span>(predict)</span></code></pre></div>
<pre><code>##  [1] predict.ar*                predict.Arima*            
##  [3] predict.arima0*            predict.glm               
##  [5] predict.HoltWinters*       predict.lm                
##  [7] predict.loess*             predict.mlm*              
##  [9] predict.nls*               predict.poly*             
## [11] predict.ppr*               predict.prcomp*           
## [13] predict.princomp*          predict.smooth.spline*    
## [15] predict.smooth.spline.fit* predict.StructTS*         
## see &#39;?methods&#39; for accessing help and source code</code></pre>
</div>
</div>
<div id="libraries" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Libraries<a href="features.html#libraries" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="libraries-are-usually-compiled" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Libraries are usually compiled<a href="features.html#libraries-are-usually-compiled" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R libraries can be pure R or they can utilize other languages. Many R’s internal functions
utilize R’s <a href="https://cran.r-project.org/doc/manuals/R-exts.html">API for writing extensions</a>.
Common used languages are C, C++ and Fortran. Reason for this is speed provided by these lower
level languages.</p>
<p>However, this API can be very complicated and thus most new packages use C/C++ with
<a href="https://cran.r-project.org/web/packages/Rcpp/index.html">Rcpp</a>-package.<span class="citation"><a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a></span></p>
<p>This means that during installation many R libraries need C and C++ compilers and external libraries,
which can result in various errors if you lack said requirements.</p>
<p>Debugging <code>Rcpp</code>-code requires one to utilize C/C++ debuggers. For more information one can look for example at <a href="https://blog.davisvaughan.com/2019/04/05/debug-r-package-with-cpp/">this blog post</a>.<span class="citation"><a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a></span></p>
<p>For more information on Rcpp, one can check <a href="https://teuder.github.io/rcpp4everyone_en/">Rcpp for everyone</a><span class="citation"><a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a></span>, <a href="https://adv-r.hadley.nz/rcpp.html">this chapter in Advanced R</a></p>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p>Wickham.<a href="features.html#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>Winston Chang, <em>R6: Encapsulated Classes with Reference Semantics</em>, 2022.<a href="features.html#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p><strong>R-Rcpp?</strong><a href="features.html#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p>Davis Vaughan, <span>“Debugging an r Package with c++,”</span> 2017, <a href="https://blog.davisvaughan.com/2019/04/05/debug-r-package-with-cpp/" role="doc-biblioref">https://blog.davisvaughan.com/2019/04/05/debug-r-package-with-cpp/</a>.<a href="features.html#fnref6" class="footnote-back">↩︎</a></p></li>
<li id="fn7"><p>Masaki E. Tsuda, <em>Rcpp for Everyone</em>, 2020, <a href="https://teuder.github.io/rcpp4everyone_en/" role="doc-biblioref">https://teuder.github.io/rcpp4everyone_en/</a>.<a href="features.html#fnref7" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="whatis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="practice.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["r-debugging.pdf", "r-debugging.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
